<!doctype html>
<html lang="uk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Для коханої — сюрприз</title>
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@400;700&family=Comfortaa:wght@300;400;700&display=swap" rel="stylesheet">
  <style>
    /* РЕЗЮМЕ: один файл (HTML+CSS+JS). 
       Помістіть video файл у ту ж папку під назвою background.mp4 або змініть src у <video>.
    */

    :root{
      --accent: #ffd6e0;
      --text: #fff;
      --glass: rgba(255,255,255,0.06);
      --font-heading: 'Playfair Display', serif;
      --font-fancy: 'Comfortaa', cursive;
    }
    html,body{height:100%;margin:0;font-family:var(--font-fancy);background:#000;color:var(--text);overflow:hidden}

    /* фон відео */
    .bg-video{position:fixed;inset:0;z-index:-10;overflow:hidden}
    .bg-video video{width:100%;height:100%;object-fit:cover;filter:brightness(0.5)}

    /* Чолка (верхня смуга) */
    header.topbar{position:fixed;left:0;right:0;top:0;height:80px;display:flex;align-items:center;justify-content:center;z-index:20;background:linear-gradient(90deg, rgba(0,0,0,0.3), rgba(0,0,0,0.1));backdrop-filter:blur(4px)}
    header .title{font-family:var(--font-heading);font-size:28px;color:var(--accent);letter-spacing:1px}

    /* Сторінки/секції — всі накладені одна на одну */
    .viewport{position:fixed;inset:0;overflow:hidden}
    .sections{position:relative;height:100%;width:100%}
    .section{position:absolute;left:0;top:0;width:100%;height:100%;display:grid;place-items:center;transition:transform 0.9s cubic-bezier(.2,.9,.2,1);}
    /* за замовчуванням кожна секція знаходиться під екраном */
    .section[data-index="0"]{transform:translateY(0);} /* перша видима */
    .section[data-index="1"]{transform:translateY(100%);} /* другий — знизу */
    .section[data-index="2"]{transform:translateY(100%);} /* третій — знизу */

    /* коли активна — займає позицію 0 */
    .section.active{transform:translateY(0)}
    /* попередня їде вгору */
    .section.prev{transform:translateY(-100%)}

    /* Перша секція */
    .hero{font-family:var(--font-heading);font-size:36px;text-align:center;padding:40px;background:linear-gradient(180deg, rgba(0,0,0,0.15), transparent)}
    .hero .main-text{font-size:44px;color:var(--accent);text-shadow:0 6px 20px rgba(0,0,0,0.6)}

    /* Друга — хаотичні фото */
    .gallery{position:relative;width:90vw;height:80vh;max-width:1200px;margin:auto}
    .pic{position:absolute;width:110px;height:110px;object-fit:cover;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,0.6);transform-origin:center;transition:transform .6s,opacity .6s}
    .pic:hover{transform:scale(1.08) rotate(0deg);z-index:50}

    /* Третя — кнопка-розпакувати + конверт */
    .unpack-wrap{display:flex;flex-direction:column;align-items:center;gap:24px}
    .btn{background:linear-gradient(135deg,#fff 0%, #ffd6e0 100%);color:#000;border:none;padding:16px 28px;border-radius:999px;font-weight:700;cursor:pointer;font-family:var(--font-fancy);box-shadow:0 8px 30px rgba(0,0,0,0.4)}

    /* Елемент конверта + лист */
    .envelope{width:320px;height:200px;position:relative;perspective:900px}
    .env-body{position:absolute;inset:0;border-radius:8px;background:linear-gradient(180deg,#fff,#fff);box-shadow:0 18px 40px rgba(0,0,0,0.5);overflow:hidden;transform-style:preserve-3d;transition:transform 1s cubic-bezier(.2,.9,.2,1)}
    .env-flap{position:absolute;left:0;right:0;top:0;height:55%;background:linear-gradient(180deg,#f5f0ff,#eee6ff);transform-origin:top center;border-bottom-left-radius:8px;border-bottom-right-radius:8px;transition:transform 1s cubic-bezier(.2,.9,.2,1);z-index:3}
    .env-body.open .env-flap{transform:rotateX(-180deg)}
    .letter {
  position: absolute;
  left: 10px;
  right: 10px;
  top: 10%;
  bottom: 10px;
  background: linear-gradient(180deg,#fffaf0,#fff7f2);
  border-radius: 6px;
  padding: 20px;
  box-sizing: border-box;
  opacity: 0;
  transform: translateY(12px) scale(.99);
  transition: opacity .6s .6s,transform .6s .6s;
  overflow-y: auto;            /* ✅ дозволяє прокручувати */
  max-height: 70%;              /* ✅ обмежує висоту в межах конверта */
}

.letter p {
  margin: 0;
  font-family: 'Playfair Display', serif;  /* красивий елегантний шрифт */
  color: #3a2a1a;                           /* трохи тепліший колір */
  font-size: 20px;
  line-height: 1.7;
  font-weight: 600;                         /* зробити жирнішим */
  letter-spacing: 0.5px;                    /* трошки простору між літерами */
}


    .env-body.open .letter{opacity:1;transform:translateY(0) scale(1)}
    .letter p{margin:0;font-family:var(--font-heading);color:#333;font-size:18px}

    /* Текст який поступово з'являється (типінг) */
    .typed{white-space:pre-wrap;min-height:120px}

    /* Ноти */
    @media (max-width:600px){header .title{font-size:20px} .hero .main-text{font-size:28px}}
    .hero {
  opacity: 1;
  transition: opacity 0.6s ease;
}

.hero.fade-out {
  opacity: 0;
  pointer-events: none;
}
.envelope.hidden {
  display: none;
}

#hearts-container {
  position: fixed;
  inset: 0;
  pointer-events: none;
  overflow: hidden;
  z-index: 9999;
}

.heart {
  position: absolute;
  font-size: 24px;
  color: #ff7aa2;
  animation: fall 3s linear forwards;
  opacity: 0.8;
}

@keyframes fall {
  0% {
    transform: translateY(-10%) scale(1) rotate(0deg);
    opacity: 1;
  }
  100% {
    transform: translateY(110vh) scale(0.6) rotate(360deg);
    opacity: 0;
  }
}
#kissBtn {
  margin-top: 20px;
  padding: 12px 28px;
  border: none;
  background: #ff7aa2;
  color: white;
  border-radius: 999px;
  font-family: var(--font-fancy);
  font-size: 18px;
  font-weight: 700;
  cursor: pointer;
  display: none;
}

#kissBtn.show {
  display: inline-block;
  animation: fadeIn 0.8s ease forwards;
}

@keyframes fadeIn {
  from {opacity:0; transform:scale(0.8);}
  to {opacity:1; transform:scale(1);}
}

#kiss-screen {
  position: fixed;
  inset: 0;
  background: #000;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: 999999;
  opacity: 0;
  pointer-events: none;
}

#kiss-screen.show {
  opacity: 1;
  pointer-events: auto;
  animation: pop 1s ease forwards;
}

#kiss-screen .emoji {
  font-size: 160px;
  animation: bounce 1.2s ease infinite alternate;
}

@keyframes pop {
  0% {opacity:0; transform:scale(0.3);}
  100% {opacity:1; transform:scale(1);}
}

@keyframes bounce {
  0% {transform: translateY(0);}
  100% {transform: translateY(-20px);}
}

  </style>
</head>
<body>



  <div class="bg-video">
    <!-- Замініть src на свій відеофайл background.mp4 або посилання -->
    <video autoplay muted loop playsinline id="bgvid">
      <source src="video/background.mp4" type="video/mp4">
      <!-- Якщо немає відео — показати темний фон -->
    </video>
  </div>

  <header class="topbar">
    <div class="title">Для коханої</div>
  </header>

  <div class="viewport">
    <div class="sections" id="sections">

      <!-- Секція 1 -->
      <section class="section hero active" data-index="0" id="sec0">
        <div>
          <div class="main-text">коханнячко — я правда старався</div>
        </div>
      </section>

      <!-- Секція 2: хаотичні фото -->
      <section class="section" data-index="1" id="sec1">
        <div class="gallery" id="gallery">
          <!-- Помістіть фотографії в папку ./photos/ під іменами photo1.jpg ... або змініть масив у JS -->
          <img class="pic" src="photos/photo1.jpg" alt="" />
          <img class="pic" src="photos/photo2.jpg" alt="" />
          <img class="pic" src="photos/photo3.jpg" alt="" />
          <img class="pic" src="photos/photo4.jpg" alt="" />
          <img class="pic" src="photos/photo5.jpg" alt="" />
          <img class="pic" src="photos/photo6.jpg" alt="" />
          <img class="pic" src="photos/photo7.jpg" alt="" />
          <img class="pic" src="photos/photo8.jpg" alt="" />
          <img class="pic" src="photos/photo9.jpg" alt="" />
          <img class="pic" src="photos/photo10.jpg" alt="" />
          <img class="pic" src="photos/photo11.jpg" alt="" />
        </div>
      </section>

      <!-- Секція 3: кнопка + конверт -->
     <section class="section" data-index="2" id="sec2">
  <div class="unpack-wrap">
    <button class="btn" id="unpackBtn">розпакувати</button>

    <!-- Конверт спочатку прихований -->
    <div class="envelope hidden" id="envelope">
      <div class="env-body" id="envBody">
        <div class="env-flap"></div>
        <div class="letter">
          <p class="typed" id="typedText"></p>
          <button id="kissBtn" class="hidden">тикни</button>

        </div>
      </div>
    </div>
  </div>
</section>

<!-- Контейнер для сердець -->
<div id="hearts-container"></div>

    </div>
  </div>

<script>
  // ПРОКРУТКА: простий контролер сторінок на колесо мишки (тачпад підтримується частково)
  (function(){
    const sections = Array.from(document.querySelectorAll('.section'));
    const hero = document.querySelector('.hero');

    let index = 0;
    let busy = false;

    function goTo(i){
      if(i<0 || i>=sections.length || busy) return;
      busy = true;
      const prev = index;
      index = i;
      if (i > 0) {
  hero.classList.add('fade-out');
}

      sections.forEach((s, idx)=>{
        s.classList.remove('active','prev');
        if(idx === index) s.classList.add('active');
        if(idx === prev) s.classList.add('prev');
      });
      setTimeout(()=> busy=false,900);
    }

    let wheelAccum = 0;
    window.addEventListener('wheel', e=>{
      // акумуляція, щоб уникнути занадто чутливої прокрутки
      wheelAccum += Math.sign(e.deltaY);
      if(wheelAccum >= 2){ goTo(index+1); wheelAccum = 0 }
      if(wheelAccum <= -2){ goTo(index-1); wheelAccum = 0 }
    }, {passive:true});

    // дозволяємо також клавіші стрілок
    window.addEventListener('keydown', e=>{
      if(e.key === 'ArrowDown') goTo(index+1);
      if(e.key === 'ArrowUp') goTo(index-1);
    });

    // оптимізація: дозволяємо переключатись кліком (для тесту)
    document.addEventListener('click', (ev)=>{
      // якщо клік по правій верхній області — вперед (тільки для демо, можна видалити)
    })
  })();

  // ГАЛЕРЕЯ: розкидуємо фото випадково всередині контейнера
  (function(){
    const gallery = document.getElementById('gallery');
    const pics = Array.from(gallery.querySelectorAll('.pic'));
    function place(){
      const W = gallery.clientWidth; const H = gallery.clientHeight;
      pics.forEach((img, i)=>{
        const scale = 0.9 + Math.random()*0.6;
        const w = 90 + Math.random()*70; // px
        const left = Math.random()*(W - w);
        const top = Math.random()*(H - w);
        const rot = (Math.random()*40)-20; // -20..20deg
        img.style.width = w+'px';
        img.style.left = left+'px';
        img.style.top = top+'px';
        img.style.transform = `rotate(${rot}deg) scale(${scale})`;
        img.style.opacity = 0;
        // невелика анімація появи
        setTimeout(()=> img.style.opacity=1, 150*i);
      })
    }
    window.addEventListener('load', place);
    window.addEventListener('resize', place);
  })();

  // РОЗПАКУВАННЯ: конверт відкривається і текст друкується
  (function(){
  const btn = document.getElementById('unpackBtn');
  const env = document.getElementById('envBody');
  const envelopeWrap = document.getElementById('envelope');
  const heartsContainer = document.getElementById('hearts-container');
  const typed = document.getElementById('typedText');
  const message = `Моє найдорожче кохання,
Я запрошую тебе на побачення
Через тиждень я хочу, щоб були тільки ми у двох.
Тільки я і ти і твої чарівні оченята в які я так закоханий.
Кохана ти моє все, моє натхнення, навіть сайт написав хоча не переношу кодів
Ти мій спокій і турбота 
Мій наркотик та моя залежність 
Я хочу відчувати тебе постійно і відчувати твоє палке кохання 
Кохаю тебе моя найрідніша!❤️`;


  btn.addEventListener('click', () => {
    btn.disabled = true;
    spawnHearts(80); // створити 80 сердечок

    // Через 2 секунди показати конверт і почати анімацію
    setTimeout(() => {
      envelopeWrap.classList.remove('hidden');
      env.classList.add('open');
      startTyping(message, typed);
    }, 2000);
  });

  function spawnHearts(count) {
    for (let i = 0; i < count; i++) {
      const heart = document.createElement('div');
      heart.className = 'heart';
      heart.textContent = '❤';
      heart.style.left = Math.random() * 100 + 'vw';
      heart.style.animationDuration = (2 + Math.random()*2) + 's';
      heart.style.fontSize = (16 + Math.random()*24) + 'px';
      heartsContainer.appendChild(heart);
      setTimeout(() => heart.remove(), 4000);
    }
  }

  function startTyping(text, el){
  el.textContent = '';
  let i = 0;
  const speed = 24;
  const kissBtn = document.getElementById('kissBtn');

  function step(){
    el.textContent += text[i];
    i++;
    if(i < text.length) {
      setTimeout(step, speed);
    } else {
      kissBtn.classList.add('show');
    }
  }
  step();

  kissBtn.addEventListener('click', () => {
  // Сховати все крім музики
  document.querySelectorAll('.sections, header, .bg-video, #hearts-container, #unpackBtn').forEach(el => {
    el.style.display = 'none';
  });

  // Показати поцілунок
  let kissScreen = document.getElementById('kiss-screen');
  if (!kissScreen) {
    kissScreen = document.createElement('div');
    kissScreen.id = 'kiss-screen';
    kissScreen.innerHTML = '<div class="emoji">💋</div>';
    kissScreen.style.position = 'fixed';
    kissScreen.style.inset = '0';
    kissScreen.style.background = '#000';
    kissScreen.style.display = 'flex';
    kissScreen.style.alignItems = 'center';
    kissScreen.style.justifyContent = 'center';
    kissScreen.style.zIndex = '999999';
    kissScreen.style.opacity = '0';
    kissScreen.style.pointerEvents = 'auto';
    kissScreen.querySelector('.emoji').style.fontSize = '160px';
    kissScreen.querySelector('.emoji').style.animation = 'bounce 1.2s ease infinite alternate';
    document.body.appendChild(kissScreen);

    // Плавне з'явлення
    setTimeout(() => kissScreen.style.opacity = '1', 50);
  } else {
    kissScreen.style.display = 'flex';
    setTimeout(() => kissScreen.style.opacity = '1', 50);
  }
});

}
document.addEventListener('click', () => {
  const music = document.getElementById('bgMusic');
  if (music.paused) {
    music.play().catch(()=>{});
  }
}, { once: true });


})();


</script>
<audio id="bgMusic" src="music/music.mp3" loop></audio>

</body>
</html>
